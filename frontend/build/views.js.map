{"version":3,"sources":["views.js","views-empty.jsx","views-login.jsx","views-users.jsx","views-common.jsx"],"names":["renderEmptyView","React","render","createElement","EmptyView","__source","fileName","lineNumber","document","getElementById","renderLoginView","LoginView","renderUsersView","UserDashboard","NavigationTop","createClass","displayName","handleLogout","e","preventDefault","app","user","save","access_token","navigate","trigger","links","hash","text","className","i","length","$","location","attr","indexOf","role","href","onClick","this","AlertView","classString","props","data","state","type","data-dismiss","aria-hidden","message","ModalTrigger","handleClick","refs","payload","getDOMNode","modal","Modal","ref","content","componentDidMount","background","keyboard","show","componentWillUnmount","off","stopPropagation","getInitialState","alert","onFormSubmit","setState","id","LoginForm","username","password","ajaxRunning","inputChanged","name","change","target","value","handleFormSubmit","_this","ajax","url","Config","API_URI","success","JSON","parse","window","localStorage","grant_type","client_id","CLIENT_ID","client_secret","CLIENT_SECRET","error","dataType","spinnerString","disabledString","onSubmit","placeholder","onChange","bind","required","autofocus","disabled","dangerouslySetInnerHTML","__html","UserItem","deleteUser","userid","attributes","confirm","beforeSend","xhr","settings","setRequestHeader","console","log","responseText","first_name","last_name","UserList","userNodes","map","p","AddUserModal","key","email","for"],"mappings":"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","file":"views.js","sourcesContent":[null,"var EmptyView = React.createClass({\n  \trender: function() {\n\t\treturn (\n\t\t\t<div></div>\n\t\t);\n\t}\n});\n\nfunction renderEmptyView() {\n\tReact.render(\n\t\t<EmptyView/>,\n\t\tdocument.getElementById('app')\n\t);\n}\n","var LoginView = React.createClass({\n\tgetInitialState: function() {\n\t\treturn { alert: {state: null, message: null} };\n\t},\n\tonFormSubmit: function(state, message) {\n\t\tthis.setState( { alert: {state: state, message: message} } );\n\t},\n  \trender: function() {\n\t\treturn (\n\t\t\t<div className=\"loginView\" id=\"form_signin\">\n\t\t\t\t<LoginForm onFormSubmit={this.onFormSubmit}/>\n\t\t\t\t<AlertView data={this.state.alert}/>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nvar LoginForm = React.createClass({\n    getInitialState: function() {\n        return {username: null, password: null, ajaxRunning: 0};\n    },\n    inputChanged: function(name, e) {\n    \tvar change = {};\n    \tchange[name] = e.target.value;\n    \tthis.setState(change);\n    },\n\thandleFormSubmit: function(e) {\n\t\te.preventDefault();\n\n\t\tvar _this = this;\n\n\t\tif (_this.state.ajaxRunning) {\n\t\t\treturn;\n\t\t}\n\n\t\t_this.setState({ajaxRunning:1});\n\n\t\t$.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: app.Config.API_URI + '/o/token/',\n\t\t\tsuccess: function(data) {\n\t\t\t\t_this.setState({ajaxRunning:0});\n\t\t\t\tdata = JSON.parse(data);\n\n\t\t\t\tif (('localStorage' in window) && window['localStorage'] !== null) {\n\t\t\t\t\tlocalStorage[\"RDA_APP.user.at\"] = data.access_token;\n\t\t\t\t}\n\n\t\t\t\tapp.user.save({access_token:data.access_token});\n\t\t\t\tapp.navigate(\"/users\", {trigger: true});\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\t\"grant_type\" : \"password\",\n\t\t\t\t\"client_id\" : app.Config.CLIENT_ID,\n\t\t\t\t\"client_secret\" : app.Config.CLIENT_SECRET,\n\t\t\t\t\"username\" : _this.state.username,\n\t\t\t\t\"password\" : _this.state.password\n\t\t\t},\n\t\t\terror: function(data) {\n\t\t\t\t_this.setState({ajaxRunning:0});\n\t\t\t\t_this.props.onFormSubmit(\"danger\", \"Can't log in. Please check your password.\");\n\t\t\t},\n\t\t\tdataType: 'text'\n\t\t});\n\t},\n\trender: function() {\n\t\tvar spinnerString = \"\";\n\t\tvar disabledString = \"\";\n\t\tif (this.state.ajaxRunning) {\n\t\t\tdisabledString = \"disabled\";\n\t\t\tspinnerString = '<span class=\"glyphicon glyphicon-refresh spinning\"></span> ';\n\t\t}\n\t\treturn (\n\t\t\t<form className=\"loginForm form-signin row\" onSubmit={this.handleFormSubmit}>\n\t\t\t\t<input type=\"text\" className=\"inputUsername form-control\" id=\"inputUsername\" placeholder=\"Username\" onChange={this.inputChanged.bind(this, 'username')} required autofocus/>\n\t\t\t\t<input type=\"password\" className=\"inputPassword form-control\" id=\"inputUsername\" placeholder=\"Password\" onChange={this.inputChanged.bind(this, 'password')} required autofocus/>\n\t\t\t\t<button type=\"submit\" className=\"btn btn-lg btn-primary btn-block\" id=\"loginButton\" disabled={disabledString}><span dangerouslySetInnerHTML={{__html: spinnerString}} />Login</button>\n\t\t\t</form>\n\t\t);\n\t}\n});\n\nfunction renderLoginView() {\n\tReact.render(\n\t\t<LoginView/>,\n\t\tdocument.getElementById('app')\n\t);\n}\n","var UserItem = React.createClass({\n\tdeleteUser: function(userid, e) {\n\t\te.preventDefault();\n\n\t\tif (userid == app.user.attributes.id) {\n\t\t\talert(\"You can't delete yourself\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (!confirm(\"Are you sure? This cannot be undone.\")) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar _this = this;\n\t\t_this.setState({ajaxRunning:1});\n\n\t\t$.ajax({\n\t\t\ttype: 'DELETE',\n\t\t\turl: app.Config.API_URI + '/api/R/users/' + userid + \"/\",\n\t\t\tsuccess: function(data) {\n\t\t\t\t_this.setState({ajaxRunning:0, data:data});\n\t\t\t\trenderUsersView();\n\t\t\t\tapp.navigate(\"/refresh\", {trigger: true});\n\t\t\t\tapp.navigate(\"/users\", {trigger: true});\n\t\t\t},\n\t\t\tbeforeSend: function(xhr, settings) {\n\t\t\t\txhr.setRequestHeader('Authorization', 'Bearer ' + app.user.attributes.access_token);\n\t\t\t},\n\t\t\terror: function(data) {\n\t\t\t\tconsole.log(data);\n\t\t\t\t_this.setState( { ajaxRunning: 0 } );\n\n\t\t\t\tvar message = \"Error while deleting user.\";\n\t\t\t\tif (data && data.responseText) {\n\t\t\t\t\tmessage = data.responseText;\n\t\t\t\t}\n\n\t\t\t\t_this.setState( { alert: {state: \"danger\", message: message} } );\n\t\t\t},\n\t\t\tdataType: 'json'\n\t\t});\n\t},\n\trender: function() {\n\t\tvar name = this.props.data.username;\n\t\tif (this.props.data.first_name && this.props.data.last_name) {\n\t\t\tname = this.props.data.first_name + ' ' + this.props.data.last_name;\n\t\t} else if (this.props.data.first_name) {\n\t\t\tname = this.props.data.first_name;\n\t\t}\n\t\treturn (\n            <tr>\n\t\t\t\t<td>\n                    <span>{name}</span>\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<div className=\"pull-right\">\n\t\t\t\t\t\t<a href='#' onClick={this.deleteUser.bind(this, this.props.data.id)} className=\"btn btn-sm btn-danger\">Delete</a>\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t);\n\t}\n});\n\nvar UserList = React.createClass({\n\trender: function() {\n\t\tvar userNodes = this.props.data.map(function (p) {\n\t\t\treturn (\n                <UserItem data={p}/>\n\t  \t\t);\n\t\t});\n\t\treturn (\n\t\t\t<table className=\"table table-striped\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr><td>Users</td></tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{userNodes}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t);\n\t}\n});\n\nvar UserDashboard = React.createClass({displayName: \"UserDashboard\",\n\tgetInitialState: function() {\n\t\treturn {\n\t\t\tdata: [],\n\t\t\talert: {state: null, message: null},\n\t\t\tajaxRunning:0\n\t\t};\n\t},\n\tcomponentDidMount: function() {\n\t\tvar _this = this;\n\t\t_this.setState({ajaxRunning:1});\n\n\t\t$.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: app.Config.API_URI + '/api/R/users',\n\t\t\tsuccess: function(data) {\n\t\t\t\t_this.setState({ajaxRunning:0, data:data});\n\t\t\t},\n            data: {\n\t\t\t\t\"access_token\" : app.user.attributes.access_token\n            },\n\t\t\terror: function(data) {\n\t\t\t\t_this.setState( { ajaxRunning: 0 } );\n\t\t\t\t_this.setState( { alert: {state: \"danger\", message: \"No access.\"} } );\n\t\t\t},\n\t\t\tdataType: 'json'\n\t\t});\n\n\t},\n\trender: function() {\n\t\tvar spinnerString = \"\";\n\t\tif (this.state.ajaxRunning) {\n\t\t\tspinnerString = '<div class=\"well\"><span class=\"glyphicon glyphicon-refresh spinning\"></span></div>';\n\t\t}\n\t\treturn (\n            <div>\n\t\t\t\t<AlertView data={this.state.alert}/>\n\t\t\t\t<NavigationTop/>\n\t\t\t\t<UserList data={this.state.data}/>\n\t\t\t\t<AddUserModal/>\n\t\t\t\t<span dangerouslySetInnerHTML={{__html: spinnerString}}/>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nvar AddUserModal = React.createClass({\n\tgetInitialState: function() {\n\t\treturn {\n\t\t\tdata: {},\n\t\t\talert: {state: null, message: null},\n\t\t\tajaxRunning: 0\n\t\t};\n\t},\n\tinputChanged: function(key, e) {\n\t\tvar data = this.state.data;\n\t\tdata[key] = e.target.value;\n\t\tthis.setState(data);\n\t},\n\thandleFormSubmit: function(e) {\n\t\te.preventDefault();\n\n\t\tvar _this = this;\n\t\t_this.setState({ajaxRunning:1});\n\n\t\t$.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: app.Config.API_URI + '/api/R/users/',\n\t\t\tsuccess: function(data) {\n\t\t\t\t_this.setState({ajaxRunning:0, data:data});\n\t\t\t\tapp.navigate(\"/refresh\", {trigger: true});\n\t\t\t\tapp.navigate(\"/users\", {trigger: true});\n\t\t\t},\n\t\t\tbeforeSend: function(xhr, settings) {\n\t\t\t\txhr.setRequestHeader('Authorization', 'Bearer ' + app.user.attributes.access_token);\n\t\t\t},\n            data: {\n\t\t\t\t\"username\" : _this.state.data.username,\n\t\t\t\t\"email\" : _this.state.data.email\n            },\n\t\t\terror: function(data) {\n\t\t\t\tconsole.log(data);\n\t\t\t\t_this.setState( { ajaxRunning: 0 } );\n\n\t\t\t\tvar message = \"Hiba a mentés során.\";\n\t\t\t\tif (data && data.responseText) {\n\t\t\t\t\tmessage = data.responseText;\n\t\t\t\t}\n\n\t\t\t\t_this.setState( { alert: {state: \"danger\", message: message} } );\n\t\t\t},\n\t\t\tdataType: 'json'\n\t\t});\n\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<ModalTrigger\n\t\t\t\ttrigger={<a className=\"btn btn-danger\">New user</a>}\n\t\t\t\tcontent={\n\t\t\t\t\t<form className=\"form-horizontal\" onSubmit={this.handleFormSubmit}>\n\t\t\t\t\t\t<div className=\"modal-header\"><h3>New user</h3></div>\n\t\t\t\t\t\t<div className=\"modal-body col-sm-12\">\n\t\t\t\t\t\t\t<AlertView data={this.state.alert}/>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label for=\"username\" className=\"col-sm-2 control-label\">Username</label>\n\t\t\t\t\t\t\t\t<div className=\"col-sm-10\">\n\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" id=\"name\" placeholder=\"Username\" onChange={this.inputChanged.bind(this, 'username')}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label for=\"email\" className=\"col-sm-2 control-label\">E-mail</label>\n\t\t\t\t\t\t\t\t<div className=\"col-sm-10\">\n\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" id=\"name\" placeholder=\"E-mail\" onChange={this.inputChanged.bind(this, 'email')}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"modal-footer\">\n\t\t\t\t\t\t\t<a className=\"btn btn-default\" data-dismiss=\"modal\">Cancel</a>\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary\">Add user</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t}\n\t\t\t/>\n\t\t);\n\t}\n});\n\nfunction renderUsersView() {\n\tReact.render(\n        <UserDashboard/>,\n\t\tdocument.getElementById('app')\n\t);\n}\n","var NavigationTop = React.createClass({\n\thandleLogout: function(e) {\n\t\te.preventDefault();\n\t\tapp.user.save({access_token:null});\n\t\tapp.navigate(\"/\", {trigger: true});\n\t},\n\trender: function() {\n\t\tvar links = [\n\t\t\t{ hash: \"#users\", text:\"Users\", className: \"\"}\n\t\t];\n\t\tfor (var i=0; i<links.length; i++) {\n\t\t\tif ($(location).attr('hash').indexOf(links[i].hash) > -1) {\n\t\t\t\tlinks[i].className = \"active\";\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t\t<ul className=\"nav nav-tabs\">\n\t\t\t\t\t<li role=\"presentation\" className={links[0].className}><a href={links[0].hash}>{links[0].text}</a></li>\n\t\t\t\t\t<li role=\"presentation\"><a href=\"#\" onClick={this.handleLogout}>Logout</a></li>\n\t\t\t\t</ul>\n\t\t\t\t<br/>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nvar AlertView = React.createClass({\n\trender: function() {\n\t\tvar classString = 'alertView alert alert-dismissable';\n\t\tif (this.props.data.state) {\n\t\t\tclassString += ' alert-' + this.props.data.state;\n\t\t} else {\n\t\t\tclassString += ' hidden';\n\t\t}\n  \t\treturn (\n\t\t\t<div className={classString} role=\"alert\">\n\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"alert\">\n\t\t\t\t\t<span aria-hidden=\"true\">×</span>\n\t\t\t\t\t<span className=\"sr-only\">Close</span>\n\t\t\t\t</button>\n\t\t\t\t{this.props.data.message}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nvar ModalTrigger = React.createClass({\n\thandleClick: function(e) {\n\t\te.preventDefault();\n\t\t$(this.refs.payload.getDOMNode()).modal();\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<div onClick={this.handleClick}>\n\t\t\t\t{this.props.trigger}\n\t\t\t\t<Modal ref=\"payload\"\n\t\t\t\t\tcontent={this.props.content}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nvar Modal = React.createClass({\n\tcomponentDidMount: function() {\n\t\t$(this.getDOMNode()).modal({\n\t\t\tbackground: true,\n\t\t\tkeyboard: true,\n\t\t\tshow: false\n\t\t})\n\t},\n\tcomponentWillUnmount: function(){\n\t\t$(this.getDOMNode()).off('hidden');\n\t},\n\thandleClick: function(e) {\n\t\te.stopPropagation();\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<div onClick={this.handleClick} className=\"modal fade\" role=\"dialog\" aria-hidden=\"true\">\n\t\t\t\t<div className=\"modal-dialog\">\n\t\t\t\t\t<div className=\"modal-content\">\n\t\t\t\t\t\t{this.props.content}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n"],"sourceRoot":"/source/"}