{"version":3,"sources":["views.js","views-empty.jsx","views-login.jsx","views-users.jsx","views-common.jsx"],"names":["renderEmptyView","React","render","createElement","EmptyView","__source","fileName","lineNumber","document","getElementById","renderLoginView","LoginView","renderUsersView","UserDashboard","NavigationTop","createClass","displayName","handleLogout","e","preventDefault","app","user","save","access_token","navigate","trigger","links","hash","text","className","i","length","$","location","attr","indexOf","role","href","onClick","this","AlertView","classString","props","data","state","type","data-dismiss","aria-hidden","message","ModalTrigger","handleClick","refs","payload","getDOMNode","modal","Modal","ref","content","htmlID","componentDidMount","background","keyboard","show","componentWillUnmount","off","stopPropagation","id","getInitialState","alert","onFormSubmit","setState","LoginForm","username","password","ajaxRunning","inputChanged","name","change","target","value","handleFormSubmit","_this","ajax","url","Config","API_URI","success","JSON","parse","window","localStorage","grant_type","client_id","CLIENT_ID","client_secret","CLIENT_SECRET","error","dataType","spinnerString","disabledString","onSubmit","placeholder","onChange","bind","required","autofocus","disabled","dangerouslySetInnerHTML","__html","UserItem","deleteUser","userid","attributes","confirm","beforeSend","xhr","settings","setRequestHeader","console","log","responseText","first_name","last_name","UserList","userNodes","map","p","AddUserModal","key","email","for"],"mappings":"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","file":"views.js","sourcesContent":[null,"var EmptyView = React.createClass({\n  \trender: function() {\n\t\treturn (\n\t\t\t<div></div>\n\t\t);\n\t}\n});\n\nfunction renderEmptyView() {\n\tReact.render(\n\t\t<EmptyView/>,\n\t\tdocument.getElementById('app')\n\t);\n}\n","var LoginView = React.createClass({\n\tgetInitialState: function() {\n\t\treturn { alert: {state: null, message: null} };\n\t},\n\tonFormSubmit: function(state, message) {\n\t\tthis.setState( { alert: {state: state, message: message} } );\n\t},\n  \trender: function() {\n\t\treturn (\n\t\t\t<div className=\"loginView\" id=\"form_signin\">\n\t\t\t\t<LoginForm onFormSubmit={this.onFormSubmit}/>\n\t\t\t\t<AlertView data={this.state.alert}/>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nvar LoginForm = React.createClass({\n    getInitialState: function() {\n        return {username: null, password: null, ajaxRunning: 0};\n    },\n    inputChanged: function(name, e) {\n    \tvar change = {};\n    \tchange[name] = e.target.value;\n    \tthis.setState(change);\n    },\n\thandleFormSubmit: function(e) {\n\t\te.preventDefault();\n\n\t\tvar _this = this;\n\n\t\tif (_this.state.ajaxRunning) {\n\t\t\treturn;\n\t\t}\n\n\t\t_this.setState({ajaxRunning:1});\n\n\t\t$.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: app.Config.API_URI + '/o/token/',\n\t\t\tsuccess: function(data) {\n\t\t\t\t_this.setState({ajaxRunning:0});\n\t\t\t\tdata = JSON.parse(data);\n\n\t\t\t\tif (('localStorage' in window) && window['localStorage'] !== null) {\n\t\t\t\t\tlocalStorage[\"RDA_APP.user.at\"] = data.access_token;\n\t\t\t\t}\n\n\t\t\t\tapp.user.save({access_token:data.access_token});\n\t\t\t\tapp.navigate(\"/users\", {trigger: true});\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\t\"grant_type\" : \"password\",\n\t\t\t\t\"client_id\" : app.Config.CLIENT_ID,\n\t\t\t\t\"client_secret\" : app.Config.CLIENT_SECRET,\n\t\t\t\t\"username\" : _this.state.username,\n\t\t\t\t\"password\" : _this.state.password\n\t\t\t},\n\t\t\terror: function(data) {\n\t\t\t\t_this.setState({ajaxRunning:0});\n\t\t\t\t_this.props.onFormSubmit(\"danger\", \"Can't log in. Please check your password.\");\n\t\t\t},\n\t\t\tdataType: 'text'\n\t\t});\n\t},\n\trender: function() {\n\t\tvar spinnerString = \"\";\n\t\tvar disabledString = \"\";\n\t\tif (this.state.ajaxRunning) {\n\t\t\tdisabledString = \"disabled\";\n\t\t\tspinnerString = '<span class=\"glyphicon glyphicon-refresh spinning\"></span> ';\n\t\t}\n\t\treturn (\n\t\t\t<form className=\"loginForm form-signin row\" onSubmit={this.handleFormSubmit}>\n\t\t\t\t<input type=\"text\" className=\"inputUsername form-control\" id=\"inputUsername\" placeholder=\"Username\" onChange={this.inputChanged.bind(this, 'username')} required autofocus/>\n\t\t\t\t<input type=\"password\" className=\"inputPassword form-control\" id=\"inputUsername\" placeholder=\"Password\" onChange={this.inputChanged.bind(this, 'password')} required autofocus/>\n\t\t\t\t<button type=\"submit\" className=\"btn btn-lg btn-primary btn-block\" id=\"loginButton\" disabled={disabledString}><span dangerouslySetInnerHTML={{__html: spinnerString}} />Login</button>\n\t\t\t</form>\n\t\t);\n\t}\n});\n\nfunction renderLoginView() {\n\tReact.render(\n\t\t<LoginView/>,\n\t\tdocument.getElementById('app')\n\t);\n}\n","var UserItem = React.createClass({\n\tdeleteUser: function(userid, e) {\n\t\te.preventDefault();\n\n\t\tif (userid == app.user.attributes.id) {\n\t\t\talert(\"You can't delete yourself\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (!confirm(\"Are you sure? This cannot be undone.\")) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar _this = this;\n\t\t_this.setState({ajaxRunning:1});\n\n\t\t$.ajax({\n\t\t\ttype: 'DELETE',\n\t\t\turl: app.Config.API_URI + '/api/R/users/' + userid + \"/\",\n\t\t\tsuccess: function(data) {\n\t\t\t\t_this.setState({ajaxRunning:0, data:data});\n\t\t\t\trenderUsersView();\n\t\t\t\tapp.navigate(\"/refresh\", {trigger: true});\n\t\t\t\tapp.navigate(\"/users\", {trigger: true});\n\t\t\t},\n\t\t\tbeforeSend: function(xhr, settings) {\n\t\t\t\txhr.setRequestHeader('Authorization', 'Bearer ' + app.user.attributes.access_token);\n\t\t\t},\n\t\t\terror: function(data) {\n\t\t\t\tconsole.log(data);\n\t\t\t\t_this.setState( { ajaxRunning: 0 } );\n\n\t\t\t\tvar message = \"Error while deleting user.\";\n\t\t\t\tif (data && data.responseText) {\n\t\t\t\t\tmessage = data.responseText;\n\t\t\t\t}\n\n\t\t\t\t_this.setState( { alert: {state: \"danger\", message: message} } );\n\t\t\t},\n\t\t\tdataType: 'json'\n\t\t});\n\t},\n\trender: function() {\n\t\tvar name = this.props.data.username;\n\t\tif (this.props.data.first_name && this.props.data.last_name) {\n\t\t\tname = this.props.data.first_name + ' ' + this.props.data.last_name;\n\t\t} else if (this.props.data.first_name) {\n\t\t\tname = this.props.data.first_name;\n\t\t}\n\t\treturn (\n            <tr>\n\t\t\t\t<td>\n                    <span>{name}</span>\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<div className=\"pull-right\">\n\t\t\t\t\t\t<a href='#' onClick={this.deleteUser.bind(this, this.props.data.id)} className=\"btn btn-sm btn-danger\">Delete</a>\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t);\n\t}\n});\n\nvar UserList = React.createClass({\n\trender: function() {\n\t\tvar userNodes = this.props.data.map(function (p) {\n\t\t\treturn (\n                <UserItem data={p}/>\n\t  \t\t);\n\t\t});\n\t\treturn (\n\t\t\t<table className=\"table table-striped\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr><td>Users</td></tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{userNodes}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t);\n\t}\n});\n\nvar UserDashboard = React.createClass({displayName: \"UserDashboard\",\n\tgetInitialState: function() {\n\t\treturn {\n\t\t\tdata: [],\n\t\t\talert: {state: null, message: null},\n\t\t\tajaxRunning:0\n\t\t};\n\t},\n\tcomponentDidMount: function() {\n\t\tvar _this = this;\n\t\t_this.setState({ajaxRunning:1});\n\n\t\t$.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: app.Config.API_URI + '/api/R/users',\n\t\t\tsuccess: function(data) {\n\t\t\t\t_this.setState({ajaxRunning:0, data:data});\n\t\t\t},\n            data: {\n\t\t\t\t\"access_token\" : app.user.attributes.access_token\n            },\n\t\t\terror: function(data) {\n\t\t\t\t_this.setState( { ajaxRunning: 0 } );\n\t\t\t\t_this.setState( { alert: {state: \"danger\", message: \"No access.\"} } );\n\t\t\t},\n\t\t\tdataType: 'json'\n\t\t});\n\n\t},\n\trender: function() {\n\t\tvar spinnerString = \"\";\n\t\tif (this.state.ajaxRunning) {\n\t\t\tspinnerString = '<div class=\"well\"><span class=\"glyphicon glyphicon-refresh spinning\"></span></div>';\n\t\t}\n\t\treturn (\n            <div>\n\t\t\t\t<AlertView data={this.state.alert}/>\n\t\t\t\t<NavigationTop/>\n\t\t\t\t<UserList data={this.state.data}/>\n\t\t\t\t<AddUserModal/>\n\t\t\t\t<span dangerouslySetInnerHTML={{__html: spinnerString}}/>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nvar AddUserModal = React.createClass({\n\tgetInitialState: function() {\n\t\treturn {\n\t\t\tdata: {},\n\t\t\talert: {state: null, message: null},\n\t\t\tajaxRunning: 0\n\t\t};\n\t},\n\tinputChanged: function(key, e) {\n\t\tvar data = this.state.data;\n\t\tdata[key] = e.target.value;\n\t\tthis.setState(data);\n\t},\n\thandleFormSubmit: function(e) {\n\t\te.preventDefault();\n\n\t\tvar _this = this;\n\t\t_this.setState({ajaxRunning:1});\n\n\t\t$.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: app.Config.API_URI + '/api/R/users/',\n\t\t\tsuccess: function(data) {\n\t\t\t\t_this.setState({ajaxRunning:0, data:data});\n\t\t\t\t$(\"#addUserModal\").modal(\"hide\");\n\t\t\t\tapp.navigate(\"/refresh\", {trigger: true});\n\t\t\t\tapp.navigate(\"/users\", {trigger: true});\n\t\t\t},\n\t\t\tbeforeSend: function(xhr, settings) {\n\t\t\t\txhr.setRequestHeader('Authorization', 'Bearer ' + app.user.attributes.access_token);\n\t\t\t},\n            data: {\n\t\t\t\t\"username\" : _this.state.data.username,\n\t\t\t\t\"email\" : _this.state.data.email\n            },\n\t\t\terror: function(data) {\n\t\t\t\tconsole.log(data);\n\t\t\t\t_this.setState( { ajaxRunning: 0 } );\n\n\t\t\t\tvar message = \"Hiba a mentés során.\";\n\t\t\t\tif (data && data.responseText) {\n\t\t\t\t\tmessage = data.responseText;\n\t\t\t\t}\n\n\t\t\t\t_this.setState( { alert: {state: \"danger\", message: message} } );\n\t\t\t},\n\t\t\tdataType: 'json'\n\t\t});\n\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<ModalTrigger\n\t\t\t\thtmlID={\"addUserModal\"}\n\t\t\t\ttrigger={<a className=\"btn btn-danger\">New user</a>}\n\t\t\t\tcontent={\n\t\t\t\t\t<form className=\"form-horizontal\" onSubmit={this.handleFormSubmit}>\n\t\t\t\t\t\t<div className=\"modal-header\"><h3>New user</h3></div>\n\t\t\t\t\t\t<div className=\"modal-body col-sm-12\">\n\t\t\t\t\t\t\t<AlertView data={this.state.alert}/>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label for=\"username\" className=\"col-sm-2 control-label\">Username</label>\n\t\t\t\t\t\t\t\t<div className=\"col-sm-10\">\n\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" id=\"name\" placeholder=\"Username\" onChange={this.inputChanged.bind(this, 'username')}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label for=\"email\" className=\"col-sm-2 control-label\">E-mail</label>\n\t\t\t\t\t\t\t\t<div className=\"col-sm-10\">\n\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" id=\"name\" placeholder=\"E-mail\" onChange={this.inputChanged.bind(this, 'email')}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"modal-footer\">\n\t\t\t\t\t\t\t<a className=\"btn btn-default\" data-dismiss=\"modal\">Cancel</a>\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary\">Add user</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t}\n\t\t\t/>\n\t\t);\n\t}\n});\n\nfunction renderUsersView() {\n\tReact.render(\n        <UserDashboard/>,\n\t\tdocument.getElementById('app')\n\t);\n}\n","var NavigationTop = React.createClass({\n\thandleLogout: function(e) {\n\t\te.preventDefault();\n\t\tapp.user.save({access_token:null});\n\t\tapp.navigate(\"/\", {trigger: true});\n\t},\n\trender: function() {\n\t\tvar links = [\n\t\t\t{ hash: \"#users\", text:\"Users\", className: \"\"}\n\t\t];\n\t\tfor (var i=0; i<links.length; i++) {\n\t\t\tif ($(location).attr('hash').indexOf(links[i].hash) > -1) {\n\t\t\t\tlinks[i].className = \"active\";\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t\t<ul className=\"nav nav-tabs\">\n\t\t\t\t\t<li role=\"presentation\" className={links[0].className}><a href={links[0].hash}>{links[0].text}</a></li>\n\t\t\t\t\t<li role=\"presentation\"><a href=\"#\" onClick={this.handleLogout}>Logout</a></li>\n\t\t\t\t</ul>\n\t\t\t\t<br/>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nvar AlertView = React.createClass({\n\trender: function() {\n\t\tvar classString = 'alertView alert alert-dismissable';\n\t\tif (this.props.data.state) {\n\t\t\tclassString += ' alert-' + this.props.data.state;\n\t\t} else {\n\t\t\tclassString += ' hidden';\n\t\t}\n  \t\treturn (\n\t\t\t<div className={classString} role=\"alert\">\n\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"alert\">\n\t\t\t\t\t<span aria-hidden=\"true\">×</span>\n\t\t\t\t\t<span className=\"sr-only\">Close</span>\n\t\t\t\t</button>\n\t\t\t\t{this.props.data.message}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nvar ModalTrigger = React.createClass({\n\thandleClick: function(e) {\n\t\te.preventDefault();\n\t\t$(this.refs.payload.getDOMNode()).modal();\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<div onClick={this.handleClick}>\n\t\t\t\t{this.props.trigger}\n\t\t\t\t<Modal ref=\"payload\"\n\t\t\t\t\tcontent={this.props.content}\n\t\t\t\t\thtmlID={this.props.htmlID}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nvar Modal = React.createClass({\n\tcomponentDidMount: function() {\n\t\t$(this.getDOMNode()).modal({\n\t\t\tbackground: true,\n\t\t\tkeyboard: true,\n\t\t\tshow: false\n\t\t})\n\t},\n\tcomponentWillUnmount: function(){\n\t\t$(this.getDOMNode()).off('hidden');\n\t},\n\thandleClick: function(e) {\n\t\te.stopPropagation();\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<div onClick={this.handleClick} className=\"modal fade\" role=\"dialog\" aria-hidden=\"true\" id={this.props.htmlID}>\n\t\t\t\t<div className=\"modal-dialog\">\n\t\t\t\t\t<div className=\"modal-content\">\n\t\t\t\t\t\t{this.props.content}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n"],"sourceRoot":"/source/"}